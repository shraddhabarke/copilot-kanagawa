template <typename R, typename T, auto N> inline R sum(T[N] x) { return map_reduce(static_cast<R>, add<R, R>, x); }