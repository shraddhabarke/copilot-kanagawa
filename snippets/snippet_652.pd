void lock()
    {
        wait_for(test_set());
    }